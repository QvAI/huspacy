preprocess:
  cmd: python -m spacy run preprocess
  script:
    - mkdir -p corpus/UD_Hungarian-Szeged
    - python -m spacy convert assets/UD_Hungarian-Szeged/hu_szeged-ud-train.conllu
      corpus/UD_Hungarian-Szeged/ --converter conllu --n-sents 10 --merge-subtokens
    - python -m spacy convert assets/UD_Hungarian-Szeged/hu_szeged-ud-dev.conllu corpus/UD_Hungarian-Szeged/
      --converter conllu --n-sents 10 --merge-subtokens
    - python -m spacy convert assets/UD_Hungarian-Szeged/hu_szeged-ud-test.conllu
      corpus/UD_Hungarian-Szeged/ --converter conllu --n-sents 10 --merge-subtokens
    - mkdir -p corpus/NerKor
    - ./convert2conll.sh ./assets/NerKor/train-devel-test/devel/*/morph/*.conllup  assets/NerKor/devel.conllup
    - ./convert2conll.sh ./assets/NerKor/train-devel-test/train/*/morph/*.conllup  assets/NerKor/train.conllup
    - ./convert2conll.sh ./assets/NerKor/train-devel-test/test/*/morph/*.conllup  assets/NerKor/test.conllup
    - python -m spacy convert assets/NerKor/devel.conllup corpus/NerKor/ --converter
      conllu --n-sents 10
    - python -m spacy convert assets/NerKor/train.conllup corpus/NerKor/ --converter
      conllu --n-sents 10
    - python -m spacy convert assets/NerKor/test.conllup corpus/NerKor/ --converter
      conllu --n-sents 10
    - mv corpus/UD_Hungarian-Szeged/hu_szeged-ud-train.spacy corpus/UD_Hungarian-Szeged/train.spacy
    - mv corpus/UD_Hungarian-Szeged/hu_szeged-ud-dev.spacy corpus/UD_Hungarian-Szeged/dev.spacy
    - mv corpus/UD_Hungarian-Szeged/hu_szeged-ud-test.spacy corpus/UD_Hungarian-Szeged/test.spacy
  deps:
    - path: assets/UD_Hungarian-Szeged/hu_szeged-ud-train.conllu
      md5: 4ed9342cd0e592d98c8463361714e259
    - path: assets/UD_Hungarian-Szeged/hu_szeged-ud-dev.conllu
      md5: ffdd1d174b6c77aaa2a6046ed7002995
    - path: assets/UD_Hungarian-Szeged/hu_szeged-ud-test.conllu
      md5: 82df15045e5e5bc159845185e5f2eef6
    - path: assets/NerKor/train-devel-test/
      md5: d3ccdfed3accd00d614cdd5faa99d6d1
  outs:
    - path: corpus/UD_Hungarian-Szeged/train.spacy
      md5: ab4b0cebdfcf0de79cb0ab0a62c29cb4
    - path: corpus/UD_Hungarian-Szeged/dev.spacy
      md5: ee7fff1c259982262ad3b640043a6d77
    - path: corpus/UD_Hungarian-Szeged/test.spacy
      md5: 15e9e32f81424d497f941e801f5ffbee
    - path: corpus/NerKor/train.spacy
      md5: 2fe8f7fde274508a90d7856f7d586001
    - path: corpus/NerKor/devel.spacy
      md5: 329ad42262adab902e798f1d62ae4c45
    - path: corpus/NerKor/test.spacy
      md5: e0638600c69e1b357c58177c92f4cce1
  spacy_version: 3.0.6
  spacy_git_version: df3444421
vectors:
  cmd: python -m spacy run vectors
  script:
    - bash -c '/bin/bzcat assets/vectors/webcorpuswiki.word2vec.bz2 > assets/vectors/webcorpuswiki.word2vec.txt'
    - python -m spacy init vectors hu assets/vectors/webcorpuswiki.word2vec.txt assets/vectors/webcorpuswiki.word2vec.vec
  deps:
    - path: assets/vectors/webcorpuswiki.word2vec.bz2
      md5: 4a3055c54a6f9a5f806ba09b21cb4583
  outs:
    - path: assets/vectors/webcorpuswiki.word2vec.vec
      md5: 4eee7839fabe60af6563d9332109d527
  spacy_version: 3.0.6
  spacy_git_version: df3444421
