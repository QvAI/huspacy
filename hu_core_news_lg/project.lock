publish:
  cmd: python -m spacy run publish
  script:
    - huggingface-cli login
    - spacy huggingface-hub push ../packages/hu_core_news_lg-0.1.0/dist/hu_core_news_lg-0.1.0-py3-none-any.whl
      --org spacy-hu --local-repo ../hub --msg "Update spacy pipeline to 0.1.0" --verbose
    - huggingface-cli logout
  deps:
    - path: ../packages/hu_core_news_lg-0.1.0/dist/hu_core_news_lg-0.1.0-py3-none-any.whl
      md5: cd7a70c3e13d61fb14ce53a22b75d76f
  outs: []
  spacy_version: 3.1.3
  spacy_git_version: 8bda39f08
preprocess_szegedcorpus:
  cmd: python -m spacy run preprocess_szegedcorpus
  script:
    - mkdir -p ../data/processed/SzegedCorpus/zip/
    - unzip -o ../data/raw/SzegedCorpus/SzegedCorpus.zip -d ../data/raw/SzegedCorpus/zip/
    - split-conllu '../data/raw/SzegedCorpus/zip/*.conllu' '../data/raw/UD_Hungarian-Szeged/*.conllu'
      ../data/processed/SzegedCorpus/
    - python -m spacy convert ../data/processed/SzegedCorpus/train.conllu ../data/processed/SzegedCorpus
      --converter conllu --n-sents 10
    - python -m spacy convert ../data/processed/SzegedCorpus/dev.conllu ../data/processed/SzegedCorpus
      --converter conllu --n-sents 10
    - python -m spacy convert ../data/processed/SzegedCorpus/test.conllu ../data/processed/SzegedCorpus
      --converter conllu --n-sents 10
  deps:
    - path: ../data/raw/SzegedCorpus
      md5: 5f5c6b74c19ff87d8d7b984d6d648c75
    - path: ../data/raw/UD_Hungarian-Szeged/hu_szeged-ud-train.conllu
      md5: e8581e733642908c106841fc1469ae89
    - path: ../data/raw/UD_Hungarian-Szeged/hu_szeged-ud-dev.conllu
      md5: 80ff7f86872655c1d7e3d5764387bc46
    - path: ../data/raw/UD_Hungarian-Szeged/hu_szeged-ud-test.conllu
      md5: dc824da852ac546914c331b58b0eb8f8
  outs:
    - path: ../data/processed/SzegedCorpus/train.conllup
      md5: null
    - path: ../data/processed/SzegedCorpus/dev.conllup
      md5: null
    - path: ../data/processed/SzegedCorpus/test.conllup
      md5: null
    - path: ../data/processed/SzegedCorpus/train.spacy
      md5: e6fbeca3c95f1ed5b30bdc4649dcc451
    - path: ../data/processed/SzegedCorpus/dev.spacy
      md5: 360f2a2870e96d6fba7b58109e1b2576
    - path: ../data/processed/SzegedCorpus/test.spacy
      md5: 86f709a00654179e37fdf29d0fedba66
  spacy_version: 3.1.3
  spacy_git_version: 8bda39f08
preprocess_ud:
  cmd: python -m spacy run preprocess_ud
  script:
    - mkdir -p ../data/processed/UD_Hungarian-Szeged
    - spacy convert ../data/raw/UD_Hungarian-Szeged/hu_szeged-ud-train.conllu ../data/processed/UD_Hungarian-Szeged/
      --converter conllu --n-sents 10 --merge-subtokens
    - spacy convert ../data/raw/UD_Hungarian-Szeged/hu_szeged-ud-dev.conllu ../data/processed/UD_Hungarian-Szeged/
      --converter conllu --n-sents 10 --merge-subtokens
    - spacy convert ../data/raw/UD_Hungarian-Szeged/hu_szeged-ud-test.conllu ../data/processed/UD_Hungarian-Szeged/
      --converter conllu --n-sents 10 --merge-subtokens
    - mv ../data/processed/UD_Hungarian-Szeged/hu_szeged-ud-train.spacy ../data/processed/UD_Hungarian-Szeged/train.spacy
    - mv ../data/processed/UD_Hungarian-Szeged/hu_szeged-ud-dev.spacy ../data/processed/UD_Hungarian-Szeged/dev.spacy
    - mv ../data/processed/UD_Hungarian-Szeged/hu_szeged-ud-test.spacy ../data/processed/UD_Hungarian-Szeged/test.spacy
  deps:
    - path: ../data/raw/UD_Hungarian-Szeged/hu_szeged-ud-train.conllu
      md5: e8581e733642908c106841fc1469ae89
    - path: ../data/raw/UD_Hungarian-Szeged/hu_szeged-ud-dev.conllu
      md5: 80ff7f86872655c1d7e3d5764387bc46
    - path: ../data/raw/UD_Hungarian-Szeged/hu_szeged-ud-test.conllu
      md5: dc824da852ac546914c331b58b0eb8f8
  outs:
    - path: ../data/processed/UD_Hungarian-Szeged/train.spacy
      md5: ccb7f151ec17c3ba2178ecba612ceb09
    - path: ../data/processed/UD_Hungarian-Szeged/dev.spacy
      md5: bb3c652b9a8d69a085a42a5c13f6f0ca
    - path: ../data/processed/UD_Hungarian-Szeged/test.spacy
      md5: c2e9e1a1c49870e616ed6b5102b9ce9c
  spacy_version: 3.1.3
  spacy_git_version: 8bda39f08
train_lemmatizer:
  cmd: python -m spacy run train_lemmatizer
  script:
    - lemmy train ../data/processed/SzegedCorpus/train.conllu ../models/lemmy-0.1.0.bin
    - lemmy evaluate ../models/lemmy-0.1.0.bin ../data/processed/SzegedCorpus/test.conllu
    - lemmy evaluate ../models/lemmy-0.1.0.bin ../data/raw/UD_Hungarian-Szeged/hu_szeged-ud-test.conllu
  deps:
    - path: ../data/processed/NerKor/train.conllup
      md5: 8bcd48d14fa16768c6915facd6c87ff8
    - path: ../data/processed/NerKor/test.conllup
      md5: 7d2c87db8693253457a995493c94c302
    - path: ../data/raw/UD_Hungarian-Szeged/hu_szeged-ud-test.conllu
      md5: dc824da852ac546914c331b58b0eb8f8
  outs:
    - path: ../models/lemmy-0.1.0.bin
      md5: 38d6af5596f336b595c21382a7d42a9d
  spacy_version: 3.1.3
  spacy_git_version: 8bda39f08
